<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Formulario de inventario para registro de equipos, camaras, alarmas y DIRECTV en puntos de servicio">
    <title>Formulario de Inventario</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">

    <!-- Estilos personalizados -->
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>

    <!-- Overlay de carga -->
    <div id="overlayCarga" class="overlay-carga">
        <div class="overlay-contenido">
            <div class="overlay-spinner"></div>
            <p id="textoCarga" class="overlay-texto">Procesando...</p>
        </div>
    </div>

    <!-- Notificacion de exito -->
    <div id="notificacionExito" class="notificacion-global notificacion-exito">
        <span id="textoNotificacionExito"></span>
    </div>

    <!-- Notificacion de error -->
    <div id="notificacionError" class="notificacion-global notificacion-error">
        <span id="textoNotificacionError"></span>
    </div>

    <!-- Encabezado tipo Google Forms -->
    <header class="encabezado-principal">
        <h1 class="encabezado-titulo">Formulario de Inventario</h1>
        <p class="encabezado-subtitulo">Registro de equipos, seguridad y servicios por punto de servicio</p>
        <p class="encabezado-requerido">* Indica que la pregunta es obligatoria</p>
    </header>

    <!-- Contenido Principal -->
    <main class="contenedor-formulario">
        <form id="formularioInventario" autocomplete="off">

            <!-- SECCION: BUSQUEDA DE PUNTO -->
            <section class="seccion-tarjeta seccion-activa">
                <div class="campo-grupo">
                    <label for="codigoPunto" class="form-label">
                        Codigo del Punto <span style="color: var(--color-error);">*</span>
                    </label>
                    <div class="grupo-busqueda" style="position: relative;">
                        <input type="text" class="form-control" id="codigoPunto"
                            placeholder="Ingrese el codigo del punto" autocomplete="off">
                        <div id="listaAutocompletado" class="lista-autocompletado"></div>
                    </div>
                </div>

                <button type="button" class="btn-primario" id="btnBuscar">
                    Buscar Punto
                </button>

                <!-- Info del punto encontrado -->
                <div id="infoPunto" class="info-punto">
                    <i class="bi bi-check-circle-fill icono-check"></i>
                    <div>
                        <div id="nombrePuntoTexto" class="nombre-punto"></div>
                        <div id="filaPuntoTexto" class="fila-punto"></div>
                    </div>
                </div>

                <!-- Mensaje de error -->
                <div id="mensajeError" class="mensaje-error">
                    <i class="bi bi-exclamation-circle-fill" style="flex-shrink: 0;"></i>
                    <span id="textoError"></span>
                </div>
            </section>

            <!-- BARRA DE PROGRESO -->
            <div id="barraProgresoContainer" class="barra-progreso-container">
                <div class="progreso-texto">
                    <span>Progreso</span>
                    <span id="progresoTexto">0 de 8 campos</span>
                </div>
                <div class="barra-progreso">
                    <div id="barraProgresoFill" class="barra-progreso-fill"></div>
                </div>
            </div>

            <!-- SECCIONES DEL FORMULARIO (ocultas hasta buscar punto) -->
            <div id="formularioSecciones" class="formulario-secciones">

                <!-- SECCION: MANTENIMIENTO EQUIPOS (PC) -->
                <section class="seccion-tarjeta">
                    <h2 class="seccion-titulo">
                        <i class="bi bi-pc-display icono-seccion"></i>
                        Mantenimiento Equipos (PC)
                    </h2>

                    <div class="grilla-campos">
                        <div class="campo-grupo">
                            <label for="cantEquipos" class="form-label">Cant. Equipos</label>
                            <input type="number" class="form-control" id="cantEquipos" placeholder="0" min="0">
                        </div>

                        <div class="campo-grupo">
                            <label for="actualizacion" class="form-label">Actualizacion</label>
                            <select class="form-select" id="actualizacion">
                                <option value="">Seleccionar</option>
                                <option value="SI">Si</option>
                                <option value="NO">No</option>
                            </select>
                        </div>

                        <div class="campo-grupo" style="display: flex; align-items: flex-end;">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="versionEquipo">
                                <label class="form-check-label" for="versionEquipo">
                                    Version 2.0.44
                                </label>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- SECCION: SEGURIDAD CAMARAS & ALARMAS -->
                <section class="seccion-tarjeta">
                    <h2 class="seccion-titulo">
                        <i class="bi bi-shield-lock icono-seccion"></i>
                        Seguridad - Camaras y Alarmas (CCTV)
                    </h2>

                    <!-- Camaras -->
                    <p class="subseccion-titulo">Camaras</p>

                    <div class="grilla-campos">
                        <div class="campo-grupo">
                            <label for="camaras" class="form-label">Camaras</label>
                            <select class="form-select" id="camaras">
                                <option value="">Seleccionar</option>
                                <option value="SI">Si</option>
                                <option value="NO">No</option>
                            </select>
                        </div>

                        <div class="campo-grupo" id="grupoCantCamaras" style="display: none;">
                            <label for="cantCamaras" class="form-label">Cantidad de Camaras</label>
                            <input type="number" class="form-control" id="cantCamaras" placeholder="0" min="0">
                        </div>
                    </div>

                    <hr class="separador">

                    <!-- Alarmas -->
                    <p class="subseccion-titulo">Alarmas</p>

                    <div class="grilla-campos">
                        <div class="campo-grupo">
                            <label for="alarmas" class="form-label">Alarmas</label>
                            <select class="form-select" id="alarmas">
                                <option value="">Seleccionar</option>
                                <option value="SI">Si</option>
                                <option value="NO">No</option>
                            </select>
                        </div>

                        <div class="campo-grupo" id="grupoSerialControl" style="display: none;">
                            <label for="serialControl" class="form-label">Serial Control</label>
                            <input type="text" class="form-control" id="serialControl" placeholder="Ingrese serial">
                        </div>
                    </div>

                    <hr class="separador">

                    <!-- Visitas y detalles -->
                    <p class="subseccion-titulo">Visitas y Detalles</p>

                    <div class="grilla-campos">
                        <div class="campo-grupo">
                            <label for="visita1" class="form-label">Visita 1er Semestre</label>
                            <input type="date" class="form-control" id="visita1">
                        </div>

                        <div class="campo-grupo">
                            <label for="visita2" class="form-label">Visita 2do Semestre</label>
                            <input type="date" class="form-control" id="visita2">
                        </div>

                        <div class="campo-grupo">
                            <label for="horaSincronizada" class="form-label">
                                Hora Sincronizada <span
                                    style="color: var(--texto-deshabilitado); font-weight: 400; text-transform: none;">(automatica)</span>
                            </label>
                            <input type="text" class="form-control" id="horaSincronizada" readonly>
                        </div>

                        <div class="campo-grupo">
                            <label for="diasGrabacion" class="form-label">Dias de Grabacion</label>
                            <input type="number" class="form-control" id="diasGrabacion" placeholder="0" min="0">
                        </div>

                        <div class="campo-grupo">
                            <label for="numLinea" class="form-label">Num # Linea</label>
                            <input type="text" class="form-control" id="numLinea" placeholder="Numero de linea">
                        </div>

                        <div class="campo-grupo">
                            <label for="iccid" class="form-label">ICCID</label>
                            <input type="text" class="form-control" id="iccid" placeholder="ICCID del SIM">
                        </div>

                        <div class="campo-grupo">
                            <label for="estado" class="form-label">Estado</label>
                            <select class="form-select" id="estado">
                                <option value="">Seleccionar</option>
                                <option value="ACTIVA">Activa</option>
                                <option value="INACTIVA">Inactiva</option>
                            </select>
                        </div>

                        <div class="campo-grupo campo-completo">
                            <label for="observaciones" class="form-label">Observaciones</label>
                            <textarea class="form-control" id="observaciones" rows="3"
                                placeholder="Escriba aqui las observaciones"></textarea>
                        </div>
                    </div>
                </section>

                <!-- SECCION: DIRECTV -->
                <section class="seccion-tarjeta">
                    <h2 class="seccion-titulo">
                        <i class="bi bi-tv icono-seccion"></i>
                        DIRECTV
                    </h2>

                    <div class="campo-grupo">
                        <label for="directv" class="form-label">DIRECTV</label>
                        <select class="form-select" id="directv">
                            <option value="">Seleccionar</option>
                            <option value="SI">Si</option>
                            <option value="NO">No</option>
                        </select>
                    </div>

                    <div id="camposDirectv" style="display: none; margin-top: 1rem;">
                        <div class="grilla-campos">
                            <div class="campo-grupo">
                                <label for="cantDeco" class="form-label">Cant. Decodificadores</label>
                                <input type="number" class="form-control" id="cantDeco" placeholder="0" min="0">
                            </div>

                            <div class="campo-grupo">
                                <label for="serialDeco" class="form-label">Serial Decodificador</label>
                                <input type="text" class="form-control" id="serialDeco" placeholder="Serial del deco">
                            </div>

                            <div class="campo-grupo">
                                <label for="serialTarjeta" class="form-label">Serial Tarjeta</label>
                                <input type="text" class="form-control" id="serialTarjeta"
                                    placeholder="Serial de la tarjeta">
                            </div>
                        </div>
                    </div>
                </section>

            </div>

            <!-- BOTONES DE ACCION -->
            <div id="botonesAccion" class="botones-accion" style="display: none;">
                <button type="button" class="btn-primario btn-enviar" id="btnEnviar">
                    Enviar
                    <div id="spinnerEnviar" class="spinner-carga"></div>
                </button>
                <button type="button" class="btn-limpiar" id="btnLimpiar">
                    Borrar formulario
                </button>
            </div>

        </form>
    </main>

    <!-- Footer -->
    <footer class="pie-pagina">
        <span>Formulario de Inventario</span>
        <a href="https://docs.google.com/spreadsheets/d/19liMdG9cbgL0dZvUkb2Ri77NCOO-BmAwBF_QWTLdDA8/edit"
            target="_blank" rel="noopener">
            Ver hoja de calculo
        </a>
    </footer>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Logica del formulario -->
    <script src="js/app.js"></script>

</body>

</html>